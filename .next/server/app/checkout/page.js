(()=>{var e={};e.id=285,e.ids=[285],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9946:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c}),t(3493),t(344),t(5866);var a=t(3191),r=t(8716),n=t(7922),l=t.n(n),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3493)),"/home/aditya/Desktop/Restaurant/frontend/app/checkout/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,344)),"/home/aditya/Desktop/Restaurant/frontend/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/home/aditya/Desktop/Restaurant/frontend/app/checkout/page.jsx"],m="/checkout/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5141:(e,s,t)=>{Promise.resolve().then(t.bind(t,6155))},6155:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(326),r=t(1937),n=t(7577),l=t(9420),i=t(9559),d=t(4148),c=t(961),o=t(432),m=t(5047);function u(){let{token:e}=(0,d.a)(),{items:s,total:t,clear:u}=(0,c.j)(),[x,h]=(0,n.useState)([]),[p,j]=(0,n.useState)({line1:"",line2:"",city:"",state:"",zip:"",is_default:!0}),[b,v]=(0,n.useState)(null),[f,g]=(0,n.useState)(!1),[N,y]=(0,n.useState)(!1),k=(0,m.useRouter)(),P=async s=>{s.preventDefault();let t=await l.hi.post(i.Hv.addresses(),p,e);h(e=>[...e,t]),v(t.id),g(!1),j({line1:"",line2:"",city:"",state:"",zip:"",is_default:!0})},_=async()=>{if(!b)return alert("Please add/select an address");if(!s.length)return alert("Your cart is empty");y(!0);try{let t={address_id:b,items:s.map(e=>({dish_id:e.id,quantity:e.qty}))};await l.hi.post(i.Hv.createOrder(),t,e),u(),k.push("/orders")}catch(e){console.error(e),alert("Failed to place order")}finally{y(!1)}};return a.jsx(r.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Checkout"}),a.jsx("p",{className:"text-zinc-400",children:"Review your order and delivery details"})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("h2",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),"Delivery Address"]}),x.length>0&&!f?(0,a.jsxs)("div",{className:"space-y-3",children:[x.map(e=>(0,a.jsxs)("label",{className:`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${b===e.id?"border-emerald-500 bg-emerald-500/5":"border-zinc-800 hover:border-zinc-700"}`,children:[a.jsx("input",{type:"radio",name:"addr",checked:b===e.id,onChange:()=>v(e.id),className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium mb-1",children:e.line1}),e.line2&&a.jsx("div",{className:"text-sm text-zinc-400",children:e.line2}),(0,a.jsxs)("div",{className:"text-sm text-zinc-400",children:[e.city,", ",e.state," ",e.zip]}),e.is_default&&a.jsx("span",{className:"inline-block mt-2 badge bg-emerald-500/20 text-emerald-400 border-emerald-500/40",children:"Default"})]})]},e.id)),a.jsx("button",{className:"btn-outline w-full",onClick:()=>g(!0),children:"+ Add New Address"})]}):(0,a.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address Line 1 *"}),a.jsx("input",{className:"input",placeholder:"Street address",value:p.line1,onChange:e=>j({...p,line1:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address Line 2"}),a.jsx("input",{className:"input",placeholder:"Apartment, suite (optional)",value:p.line2,onChange:e=>j({...p,line2:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),a.jsx("input",{className:"input",placeholder:"City",value:p.city,onChange:e=>j({...p,city:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),a.jsx("input",{className:"input",placeholder:"State",value:p.state,onChange:e=>j({...p,state:e.target.value}),required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),a.jsx("input",{className:"input",placeholder:"ZIP",value:p.zip,onChange:e=>j({...p,zip:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{className:"btn flex-1",type:"submit",children:"Save Address"}),x.length>0&&a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>g(!1),children:"Cancel"})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Order Items"}),a.jsx("div",{className:"space-y-3",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 pb-3 border-b border-zinc-800 last:border-0",children:[a.jsx("img",{src:e.image_path?`${i.hv}/${e.image_path}`:"/placeholder.png",className:"w-16 h-16 object-cover rounded-lg",alt:e.name}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-zinc-400",children:["Qty: ",e.qty]})]}),a.jsx("div",{className:"font-semibold",children:(0,o.T)(e.price*e.qty)})]},e.id))})]})]}),a.jsx("div",{className:"lg:sticky lg:top-24 h-fit",children:(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-zinc-400",children:"Subtotal"}),a.jsx("span",{children:(0,o.T)(t)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-zinc-400",children:"Delivery Fee"}),a.jsx("span",{className:"text-emerald-400",children:"FREE"})]}),a.jsx("div",{className:"border-t border-zinc-800 pt-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"Total"}),a.jsx("span",{className:"text-2xl font-bold text-emerald-400",children:(0,o.T)(t)})]})})]}),a.jsx("button",{className:"btn w-full",onClick:_,disabled:N||!b||0===s.length,children:N?"Placing Order...":"Place Order"}),a.jsx("p",{className:"text-xs text-zinc-500 mt-3 text-center",children:"By placing an order you agree to our terms and conditions"})]})})]})]})})}},1937:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(326),r=t(4148),n=t(434);function l({children:e}){let{token:s,loading:t}=(0,r.a)();return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-zinc-400",children:"Loading..."})]})}):s?e:a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"card max-w-md w-full text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Login Required"}),a.jsx("p",{className:"text-zinc-400 mb-6",children:"Please log in or create an account to continue."}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[a.jsx(n.default,{className:"btn",href:"/login",children:"Login"}),a.jsx(n.default,{className:"btn-outline",href:"/register",children:"Register"})]})]})})}},432:(e,s,t)=>{"use strict";t.d(s,{T:()=>a});let a=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e||0)},5047:(e,s,t)=>{"use strict";var a=t(7389);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},3493:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var a=t(8570);let r=(0,a.createProxy)(String.raw`/home/aditya/Desktop/Restaurant/frontend/app/checkout/page.jsx`),{__esModule:n,$$typeof:l}=r;r.default;let i=(0,a.createProxy)(String.raw`/home/aditya/Desktop/Restaurant/frontend/app/checkout/page.jsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,372,162],()=>t(9946));module.exports=a})();